\hypertarget{_user_resource_8java_source}{}\doxysection{User\+Resource.\+java}
\label{_user_resource_8java_source}\index{src/main/java/com/videoclub/UserResource.java@{src/main/java/com/videoclub/UserResource.java}}
\mbox{\hyperlink{_user_resource_8java}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00001}00001\ \textcolor{keyword}{package\ }com.videoclub;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00003}00003\ \textcolor{keyword}{import}\ java.util.List;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00005}00005\ \textcolor{keyword}{import}\ javax.ws.rs.Consumes;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00006}00006\ \textcolor{keyword}{import}\ javax.ws.rs.DELETE;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00007}00007\ \textcolor{keyword}{import}\ javax.ws.rs.GET;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00008}00008\ \textcolor{keyword}{import}\ javax.ws.rs.POST;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00009}00009\ \textcolor{keyword}{import}\ javax.ws.rs.Path;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00010}00010\ \textcolor{keyword}{import}\ javax.ws.rs.PathParam;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00011}00011\ \textcolor{keyword}{import}\ javax.ws.rs.Produces;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00012}00012\ \textcolor{keyword}{import}\ javax.ws.rs.core.MediaType;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00013}00013\ \textcolor{keyword}{import}\ javax.ws.rs.core.Response;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00014}00014\ \textcolor{keyword}{import}\ javax.ws.rs.core.Response.Status;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00016}00016\ \textcolor{keyword}{import}\ org.apache.logging.log4j.LogManager;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00017}00017\ \textcolor{keyword}{import}\ org.apache.logging.log4j.Logger;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00019}00019\ \textcolor{keyword}{import}\ com.fasterxml.jackson.databind.ObjectMapper;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00020}00020\ \textcolor{keyword}{import}\ com.videoclub.Internationalization.InternationalizationText;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00021}00021\ \textcolor{keyword}{import}\ com.videoclub.dao.RentalDAO;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00022}00022\ \textcolor{keyword}{import}\ com.videoclub.dao.UserDAO;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00023}00023\ \textcolor{keyword}{import}\ com.videoclub.encrypt.PasswordEncrypt;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00024}00024\ \textcolor{keyword}{import}\ com.videoclub.pojo.Rental;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00025}00025\ \textcolor{keyword}{import}\ com.videoclub.pojo.User;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00032}00032\ @Path(\textcolor{stringliteral}{"{}users"{}})}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00033}\mbox{\hyperlink{classcom_1_1videoclub_1_1_user_resource}{00033}}\ public\ class\ \mbox{\hyperlink{classcom_1_1videoclub_1_1_user_resource}{UserResource}}\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00034}\mbox{\hyperlink{classcom_1_1videoclub_1_1_user_resource_a9f3ebbb8563d6d685e40bbe8dbf42951}{00034}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{static}\ \textcolor{keyword}{final}\ Logger\ logger\ =\ LogManager.getLogger();}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00035}00035\ \ \ \ \ \textcolor{comment}{//private\ static\ List<User>\ users;}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00042}00042\ \ \ \ \ @GET}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00043}00043\ \ \ \ \ @Produces(MediaType.APPLICATION\_JSON)}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00044}\mbox{\hyperlink{classcom_1_1videoclub_1_1_user_resource_a4fded3e8d0733281e11e567331bc9a1c}{00044}}\ \ \ \ \ public\ List<\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user}{User}}>\ getUsers()\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00045}00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00046}00046\ \ \ \ \ \ \ \ \ \ \ \ \ ObjectMapper\ om\ =\ \textcolor{keyword}{new}\ ObjectMapper();}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00047}00047\ \ \ \ \ \ \ \ \ \ \ \ \ List<User>\ users\ =\ \mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o}{UserDAO}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_ae0c88696bb85295346aceaa93020104e}{getInstance}}().\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_ab3af2a10c6a144152817e34f02f26757}{getAll}}();}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00048}00048\ \ \ \ \ \ \ \ \ \ \ \ \ System.out.println(om.writeValueAsString(users));}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00049}00049\ \ \ \ \ \ \ \ \ \ \ \ \ logger.info(\mbox{\hyperlink{classcom_1_1videoclub_1_1_internationalization_1_1_internationalization_text}{InternationalizationText}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1_internationalization_1_1_internationalization_text_ad4d93da35936aeef4bc1555cb45aa353}{getString}}(\textcolor{stringliteral}{"{}retrieve\_users\_db"{}})\ +\ users);}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00050}00050\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ users;}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00051}00051\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00052}00052\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(Exception\ e)}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00053}00053\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ e.printStackTrace();}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00056}00056\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00057}00057\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00058}00058\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00066}00066\ \ \ \ \ @POST}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00067}00067\ \ \ \ \ @Consumes(MediaType.APPLICATION\_JSON)}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00068}00068\ \ \ \ \ @Produces(MediaType.APPLICATION\_JSON)}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00069}\mbox{\hyperlink{classcom_1_1videoclub_1_1_user_resource_a7f2532b11711d22f34b9dd81a4fa4b4a}{00069}}\ \ \ \ \ public\ Response\ addUser(\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user}{User}}\ user)\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00070}00070\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!user.getEmail().strip().equals(\textcolor{stringliteral}{"{}"{}})\ \&\&\ !user.getName().strip().equals(\textcolor{stringliteral}{"{}"{}})\ \&\&\ !user.getPassword().strip().equals(\textcolor{stringliteral}{"{}"{}})\ \&\&\ !user.getUsername().strip().equals(\textcolor{stringliteral}{"{}"{}})\ \&\&\ !user.getSurname().strip().equals(\textcolor{stringliteral}{"{}"{}}))\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \ \ \ user.setPassword(\mbox{\hyperlink{classcom_1_1videoclub_1_1encrypt_1_1_password_encrypt}{PasswordEncrypt}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1encrypt_1_1_password_encrypt_a94612e91cdc37a9c5fd324a489f3e3a0}{encryptPassword}}(user.getPassword()));}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o}{UserDAO}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_ae0c88696bb85295346aceaa93020104e}{getInstance}}().\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_a338fbe6f9469dec5babb4bfcffa3ff10}{find}}(user.getEmail(),\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user}{User}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user_1_1_columns_name_user}{ColumnsNameUser}}.email)\ !=\ \textcolor{keyword}{null}\ ||\ \mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o}{UserDAO}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_ae0c88696bb85295346aceaa93020104e}{getInstance}}().\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_a338fbe6f9469dec5babb4bfcffa3ff10}{find}}(user.getUsername(),\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user}{User}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user_1_1_columns_name_user}{ColumnsNameUser}}.username)\ !=\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Response.status(Status.NOT\_ACCEPTABLE).build();}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00074}00074\ \ \ \ \ \ \ \ \ \ \ \ \ \}\textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00075}00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o}{UserDAO}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_ae0c88696bb85295346aceaa93020104e}{getInstance}}().\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_a44f68874b2aa20801ee4143de48534f7}{save}}(user);}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00076}00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logger.info(user\ +\ \textcolor{stringliteral}{"{}\ "{}}\ +\ \mbox{\hyperlink{classcom_1_1videoclub_1_1_internationalization_1_1_internationalization_text}{InternationalizationText}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1_internationalization_1_1_internationalization_text_ad4d93da35936aeef4bc1555cb45aa353}{getString}}(\textcolor{stringliteral}{"{}add\_db\_user"{}}));}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00077}00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Response.status(Status.ACCEPTED).build();}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00078}00078\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00079}00079\ \ \ \ \ \ \ \ \ \}\textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00080}00080\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Response.status(Status.BAD\_REQUEST).build();}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00081}00081\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00082}00082\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00090}00090\ \ \ \ \ @DELETE}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00091}00091\ \ \ \ \ @Path(\textcolor{stringliteral}{"{}/\{code\}"{}})}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00092}\mbox{\hyperlink{classcom_1_1videoclub_1_1_user_resource_adc9dfe71b3a99942ee56e1a2ec2d16cc}{00092}}\ \ \ \ \ public\ Response\ deleteUser(@PathParam("{}code"{})\ String\ code)\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00093}00093\ \ \ \ \ \ \ \ \ List<Rental>\ rentals\ =\ \mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_rental_d_a_o}{RentalDAO}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_rental_d_a_o_ab0a4bf355b281f504bb77a820254369e}{getInstance}}().\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_rental_d_a_o_a40a1da76ef5658bc320ba216ee7ce4db}{getAll}}();}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00094}00094\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00095}00095\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{boolean}\ hasTheUser\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00096}00096\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user}{User}}\ userToDelete\ =\ \mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o}{UserDAO}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_ae0c88696bb85295346aceaa93020104e}{getInstance}}().\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_a338fbe6f9469dec5babb4bfcffa3ff10}{find}}(code,\ \mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user}{User}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user_1_1_columns_name_user}{ColumnsNameUser}}.username);}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00097}00097\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(userToDelete\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00098}00098\ \ \ \ \ \ \ \ \ \ \ \ \ hasTheUser\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00099}00099\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00100}00100\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (hasTheUser)\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00101}00101\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00102}00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_rental}{Rental}}\ r:\ rentals)}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00103}00103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00104}00104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ System.out.println(userToDelete.\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user_a9b12b9b100309a8f3001b01033c986a0}{getCode}}()==(r.getCustomer().getCode()));}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00105}00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00106}00106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(userToDelete.\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user_a9b12b9b100309a8f3001b01033c986a0}{getCode}}()==(r.getCustomer().getCode()))}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00107}00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00109}00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_rental_d_a_o}{RentalDAO}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_rental_d_a_o_ab0a4bf355b281f504bb77a820254369e}{getInstance}}().\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_rental_d_a_o_a2bfae34901b490221a8a513493d76a0f}{delete}}(r);}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00110}00110\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00111}00111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(Exception\ e)}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ e.printStackTrace();}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00120}00120\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o}{UserDAO}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_ae0c88696bb85295346aceaa93020104e}{getInstance}}().\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_a9d861f148789ece0715cdc7045676e1b}{delete}}(userToDelete);}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00121}00121\ \ \ \ \ \ \ \ \ \ \ \ \ logger.info(\mbox{\hyperlink{classcom_1_1videoclub_1_1_internationalization_1_1_internationalization_text}{InternationalizationText}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1_internationalization_1_1_internationalization_text_ad4d93da35936aeef4bc1555cb45aa353}{getString}}(\textcolor{stringliteral}{"{}remove\_db\_user"{}})\ +\ code);}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Response.status(Response.Status.OK).build();}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00123}00123\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00124}00124\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Response.status(Response.Status.NOT\_FOUND).build();}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00125}00125\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00126}00126\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00133}00133\ \ \ \ \ @GET}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00134}00134\ \ \ \ \ @Produces(MediaType.APPLICATION\_JSON)}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00135}00135\ \ \ \ \ @Path(\textcolor{stringliteral}{"{}/\{username\}/\{pass\}"{}})}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00136}\mbox{\hyperlink{classcom_1_1videoclub_1_1_user_resource_a06db571ea7b0c1d7c2d8df88a2f8413d}{00136}}\ \ \ \ \ public\ Response\ logInUser(@PathParam("{}username"{})\ String\ usernameTC,\ @PathParam("{}pass"{})String\ passTC)\{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00137}00137\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user}{User}}\ userToCheck\ =\ \mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o}{UserDAO}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_ae0c88696bb85295346aceaa93020104e}{getInstance}}().\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_a338fbe6f9469dec5babb4bfcffa3ff10}{find}}(usernameTC,\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user}{User}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user_1_1_columns_name_user}{ColumnsNameUser}}.username);}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00138}00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(userToCheck==\textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00139}00139\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Response.status(Status.NOT\_FOUND).build();}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00140}00140\ \ \ \ \ \ \ \ \ \}\textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00141}00141\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(userToCheck.\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user_a53236075a01b139052565d3ac4e24b8e}{getPassword}}().equals(\mbox{\hyperlink{classcom_1_1videoclub_1_1encrypt_1_1_password_encrypt}{PasswordEncrypt}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1encrypt_1_1_password_encrypt_a94612e91cdc37a9c5fd324a489f3e3a0}{encryptPassword}}(passTC)))\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00142}00142\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Response.status(Status.ACCEPTED).entity(userToCheck).build();}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00143}00143\ \ \ \ \ \ \ \ \ \ \ \ \ \}\textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00144}00144\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Response.status(Status.NOT\_ACCEPTABLE).build();}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00145}00145\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00146}00146\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00147}00147\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00153}00153\ \ \ \ \ @POST}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00154}00154\ \ \ \ \ @Consumes(MediaType.APPLICATION\_JSON)}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00155}00155\ \ \ \ \ @Produces(MediaType.APPLICATION\_JSON)}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00156}00156\ \ \ \ \ @Path(\textcolor{stringliteral}{"{}/updateuser"{}})}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00157}\mbox{\hyperlink{classcom_1_1videoclub_1_1_user_resource_aab27e2f3912883d2f9814ba47daa0754}{00157}}\ \ \ \ \ public\ Response\ updateMovie(\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user}{User}}\ user)\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00158}00158\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user}{User}}\ userFromDB\ =\ \mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o}{UserDAO}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_ae0c88696bb85295346aceaa93020104e}{getInstance}}().\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_a338fbe6f9469dec5babb4bfcffa3ff10}{find}}(Integer.toString(user.getCode()),\ \mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user}{User}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user_1_1_columns_name_user}{ColumnsNameUser}}.code);}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00159}00159\ \ \ \ \ \ \ \ \ logger.info(user.getCode());}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00160}00160\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(userFromDB\ !=\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00161}00161\ \ \ \ \ \ \ \ \ \ \ \ \ userFromDB.\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user_a06c45859bc037a0903c84b642090361e}{setEmail}}(user.getEmail());}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00162}00162\ \ \ \ \ \ \ \ \ \ \ \ \ userFromDB.\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user_a266bdff64b712486ab44ab8c74ca8531}{setName}}(user.getName());}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00163}00163\ \ \ \ \ \ \ \ \ \ \ \ \ userFromDB.\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user_a996abc9925a7da227caa6f1ce94c8ed8}{setPassword}}(user.getPassword());}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00164}00164\ \ \ \ \ \ \ \ \ \ \ \ \ userFromDB.\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user_aa9af035af0bd416a9d8f865fae174cbf}{setSurname}}(user.getSurname());}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00165}00165\ \ \ \ \ \ \ \ \ \ \ \ \ userFromDB.\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user_a5a124850c3b1ac5e482ddf03dde93094}{setType}}(user.getType());}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00166}00166\ \ \ \ \ \ \ \ \ \ \ \ \ userFromDB.\mbox{\hyperlink{classcom_1_1videoclub_1_1pojo_1_1_user_a470c0e957ff366315db4e1b12281e506}{setUsername}}(user.getUsername());}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00167}00167\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o}{UserDAO}}.\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_ae0c88696bb85295346aceaa93020104e}{getInstance}}().\mbox{\hyperlink{classcom_1_1videoclub_1_1dao_1_1_user_d_a_o_a44f68874b2aa20801ee4143de48534f7}{save}}(userFromDB);}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00168}00168\ \ \ \ \ \ \ \ \ \ \ \ \ logger.info(\textcolor{stringliteral}{"{}User\ updated\ correctly."{}});}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00169}00169\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Response.accepted(userFromDB).build();}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00170}00170\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00171}00171\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Response.status(Status.NOT\_FOUND).build();}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00172}00172\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00173}00173\ \ \ \ }
\DoxyCodeLine{\Hypertarget{_user_resource_8java_source_l00174}00174\ \}}

\end{DoxyCode}
